---
layout: post
collection: til
description: >
  2025-04-04 TIL
categories: ["til"]
tags: ["TIL", "Java"]
date: 2025-04-04 00:00:00
last_modified_at: 2025-04-09 01:41:49
github_issue: 37
github_url: https://github.com/nan0silver/TIL/issues/37
sitemap: false
---

# [TIL] JPA / MyBatis, AOPê°€ IoCí•œí…Œ ë‹¤ ì¡ì•„ ë¨¹í˜”ë‹¤

> ğŸ“ **TIL (Today I Learned)**  
> ğŸ”— **ì›ë³¸ ì´ìŠˆ**: [#37](https://github.com/nan0silver/TIL/issues/37)  
> ğŸ“… **ì‘ì„±ì¼**: 2025-04-04  
> ğŸ”„ **ìµœì¢… ìˆ˜ì •**: 2025ë…„ 04ì›” 09ì¼

---


## ğŸ€ ìƒˆë¡­ê²Œ ë°°ìš´ ê²ƒ

- JPA / MyBatis
  - ë‘˜ì˜ ì •í™•í•œ ì°¨ì´ì ê³¼ ì½”ë“œ ì˜ˆì œë¥¼ ë³´ê¸° ìœ„í•´ ë¹„êµ ë° ë¹„ìœ ë¥¼ í†µí•´ ê°œë…ì„ ì•Œì•„ë³´ì•˜ë‹¤.
  - ë¸”ë¡œê·¸ì— ì •ë¦¬í–ˆë‹¤.
  - [JPA / MyBatis](https://nan0silver.github.io/spring/2025-04-05-jpa-mybatis/)
- ê°•ì‚¬ë‹˜ì´ "AOPê°€ IoCí•œí…Œ ë‹¤ ì¡ì•„ ë¨¹í˜”ë‹¤"ê³  í•˜ì…¨ëŠ”ë°, ì´ê²Œ ë¬´ìŠ¨ ëœ»ì¸ì§€ ëª¨ë¥´ê² ì–´ì„œ ì•Œì•„ë³´ì•˜ë‹¤. (Spring Boot)
  > Spring (íŠ¹íˆ Spring Boot)ì—ì„œ AOPì™€ IoC ì»¨í…Œì´ë„ˆê°€ **ì–´ë–»ê²Œ ê²°í•©ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ê°•ì¡°**í•˜ëŠ” ë§

---

## ğŸ¯ ìš©ì–´ ì •ë¦¬

### âœ… IoC (Inversion of Control, ì œì–´ì˜ ì—­ì „)

- ê°ì²´ë¥¼ **ë‚´ê°€ ì§ì ‘ ë§Œë“¤ê³  ê´€ë¦¬í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼**,  
  Springì´ ëŒ€ì‹  ìƒì„±í•˜ê³  ì£¼ì…(DI)í•´ì£¼ëŠ” ê°œë…
- ì¦‰, Springì´ "ì œì–´ê¶Œ"ì„ ê°€ì§
- ìš°ë¦¬ëŠ” í´ë˜ìŠ¤ë§Œ ë§Œë“¤ê³ , **Spring ì»¨í…Œì´ë„ˆê°€ ë¹ˆ(bean)ìœ¼ë¡œ ê´€ë¦¬**í•¨

### âœ… AOP (Aspect Oriented Programming, ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë°)

- **í•µì‹¬ ë¡œì§ê³¼ ê³µí†µ ë¡œì§ì„ ë¶„ë¦¬**í•˜ê¸° ìœ„í•œ ê°œë…
- ë¡œê¹…, íŠ¸ëœì­ì…˜, ë³´ì•ˆ ì²´í¬ ê°™ì€ ê±¸ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ **ë”°ë¡œ ë¶„ë¦¬í•´ì„œ ê´€ë¦¬**
- ëŒ€í‘œì ì¸ í‚¤ì›Œë“œ: `@Aspect`, `@Before`, `@After`, `@Around`

---

## ğŸ“Œ â€œAOPê°€ IoCí•œí…Œ ì¡ì•„ë¨¹í˜”ë‹¤â€ëŠ” ë§ì˜ ëœ»

### âœ”ï¸ ë²ˆì—­í•˜ìë©´...

> â€œì´ì œ AOPê°€ ë³„ë„ë¡œ ë™ì‘í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼,  
> ì „ë¶€ **Springì˜ IoC ì»¨í…Œì´ë„ˆì—ì„œ ë¹ˆìœ¼ë¡œ ê´€ë¦¬ë˜ê³  ì œì–´ëœë‹¤**ëŠ” ì˜ë¯¸â€

---

### ğŸ” ì‹¤ì œ ì˜ë¯¸

#### ê³¼ê±°ì—”?

- AOPê°€ ë…ë¦½ì ì¸ ê°œë…ì²˜ëŸ¼ ì„¤ëª…ëê³ ,
- ì„¤ì •ë„ ì§ì ‘ í•´ì•¼ í–ˆê³  (`@EnableAspectJAutoProxy`, XML ì„¤ì • ë“±)

#### ì§€ê¸ˆì€?

- Spring Bootì—ì„œëŠ” AOP ê¸°ëŠ¥ì´ ì „ë¶€ **IoC ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì‘ë™**í•¨
- ì¦‰, ìš°ë¦¬ê°€ ì‘ì„±í•œ `@Aspect` í´ë˜ìŠ¤ë„ **Springì´ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ì„œ ê´€ë¦¬í•¨**

â¡ ì´ì œ AOPëŠ” **Springì˜ IoC ê¸°ë°˜ì—ì„œ ì›€ì§ì´ëŠ” ë¶€ê°€ê¸°ëŠ¥**ì´ ëœ ê²ƒ.
â¡ â€œSpringì´ ëª¨ë“  ê±¸ ì»¨íŠ¸ë¡¤í•œë‹¤â€ = "AOPì¡°ì°¨ë„ IoCì˜ ì§€ë°° ì•„ë˜ ìˆë‹¤"

---

## ğŸ”„ Spring Bootì—ì„œ ë°”ë€ ì 

### âœ… ì„¤ì •ì´ í›¨ì”¬ ë‹¨ìˆœí•´ì§

```java
@Configuration
@EnableAspectJAutoProxy
public class AppConfig {}
```

â¡ Spring Bootì—ì„  ì´ëŸ° ì„¤ì • ìƒëµ ê°€ëŠ¥!  
â¡ `@Aspect` ë‹¬ê³  ë¹ˆìœ¼ë¡œ ë“±ë¡ë§Œ í•˜ë©´ ìë™ ì ìš©ë¨

---

### âœ… AOP ì ìš© ëŒ€ìƒë„ **ë¹ˆ(bean)**ë§Œ ë¨

```java
@Component
@Aspect
public class LoggingAspect {
    @Before("execution(* com.example.service.*.*(..))")
    public void logBefore() {
        System.out.println("ë©”ì„œë“œ ì‹¤í–‰ ì „!");
    }
}
```

â¡ `com.example.service` ì•ˆì˜ ë©”ì„œë“œë“¤ì´ AOP ëŒ€ìƒì´ ë˜ë ¤ë©´?  
â¡ ê·¸ í´ë˜ìŠ¤ë“¤ì´ ì „ë¶€ **ë¹ˆì´ì–´ì•¼ í•¨**  
â¡ **Spring IoC ì»¨í…Œì´ë„ˆê°€ ê´€ë¦¬í•˜ëŠ” ê°ì²´ë§Œ AOP ê°€ëŠ¥**

ğŸ‘‰ ì´ê²Œ ë°”ë¡œ **"AOPê°€ IoCì—ê²Œ ë¨¹í˜”ë‹¤"ëŠ” ë§ì˜ í•µì‹¬ í¬ì¸íŠ¸**

---

## ğŸ“Œ ì‰½ê²Œ ìš”ì•½í•˜ë©´

| ê³¼ê±° AOP                     | ì§€ê¸ˆ(Spring Boot ê¸°ë°˜ AOP)          |
| ---------------------------- | ----------------------------------- |
| ë…ë¦½ì ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•¨       | Spring Bootê°€ ìë™ ì„¤ì •             |
| AOPê°€ Springê³¼ ë…ë¦½ì ì¸ ëŠë‚Œ | AOPë„ IoC ì»¨í…Œì´ë„ˆ ì•ˆì— ì™„ì „íˆ í¬í•¨ |
| @EnableAspectJAutoProxy í•„ìš” | ìƒëµ ê°€ëŠ¥ (ìë™ êµ¬ì„±ë¨)             |
| AOP ëŒ€ìƒ ë”°ë¡œ ì¸ì‹           | ë¹ˆìœ¼ë¡œ ë“±ë¡ëœ ê°ì²´ë§Œ AOP ì ìš© ê°€ëŠ¥  |

---

## âœ… ë°±ì—”ë“œ ê°œë°œìë¡œì„œ ì´ë ‡ê²Œ ë§í•˜ë©´ ì¢‹ë‹¤.

> "Spring Bootì—ì„œëŠ” AOP ê¸°ëŠ¥ì´ Spring IoC ì»¨í…Œì´ë„ˆ ì•ˆì— í†µí•©ë¼ ìˆì–´ì„œ, Aspectë„ ê²°êµ­ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ì–´ì•¼ ë™ì‘í•©ë‹ˆë‹¤. ê³¼ê±°ì—ëŠ” AOP ì„¤ì •ì„ ë³„ë„ë¡œ í–ˆì§€ë§Œ, ì§€ê¸ˆì€ Spring Bootì˜ ìë™ ì„¤ì • ë•ë¶„ì— IoC ì¤‘ì‹¬ìœ¼ë¡œ ëª¨ë‘ í†µí•©ë˜ì–´ ê´€ë¦¬ë˜ì£ . ê·¸ë˜ì„œ AOPë„ ê²°êµ­ IoCì˜ íë¦„ ì•ˆì—ì„œ ì‘ë™í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."

---

## ğŸ” ì‹¤ë¬´ì—ì„œ AOPë¥¼ ì“°ëŠ” ì˜ˆ

- ë©”ì„œë“œ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
- ë¡œê·¸ì¸ ì²´í¬
- íŠ¸ëœì­ì…˜ ì²˜ë¦¬
- ê³µí†µ ë¡œê·¸ ì¶œë ¥

```java
@Around("execution(* com.example..*(..))")
public Object logTime(ProceedingJoinPoint joinPoint) throws Throwable {
    long start = System.currentTimeMillis();
    Object result = joinPoint.proceed();
    long end = System.currentTimeMillis();
    System.out.println("ì‹¤í–‰ ì‹œê°„: " + (end - start) + "ms");
    return result;
}
```
